<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.135.0"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Set's Note</title>
<meta name=description content="Set's Note"><meta name=author content="Set Mao"><link rel=canonical href=http://localhost:1313/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/img/favicon.png><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=http://localhost:1313/index.xml><link rel=alternate type=application/json href=http://localhost:1313/index.json><link rel=alternate hreflang=en href=http://localhost:1313/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Set's Note"><meta property="og:description" content="Set's Note"><meta property="og:type" content="website"><meta property="og:url" content="http://localhost:1313/"><meta property="og:image" content="http://localhost:1313/images/papermod-cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/images/papermod-cover.png"><meta name=twitter:title content="Set's Note"><meta name=twitter:description content="Set's Note"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Set's Note","url":"http://localhost:1313/","description":"Set's Note","thumbnailUrl":"http://localhost:1313/img/favicon.png","sameAs":["https://github.com/setmao/","https://www.linkedin.com/in/set-mao-973b5817b/","mailto:me@setmao.tw","https://blog.setmao.tw/index.xml"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Set's Note (Alt + H)">Set's Note</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/archives/ title=Archive><span>Archive</span></a></li><li><a href=http://localhost:1313/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Set&rsquo;s Note</h1></header><div class=entry-content>ğŸ‘‹ Welcome to Set&rsquo;s Note</div><footer class=entry-footer><div class=social-icons><a href=https://github.com/setmao/ target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href=https://www.linkedin.com/in/set-mao-973b5817b/ target=_blank rel="noopener noreferrer me" title=Linkedin><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>
</a><a href=mailto:me@setmao.tw target=_blank rel="noopener noreferrer me" title=Email><svg viewBox="0 0 24 21" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
</a><a href=https://blog.setmao.tw/index.xml target=_blank rel="noopener noreferrer me" title=Rss><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Awesome Online Exercises</h2></header><div class=entry-content><p>å‰è¨€ è¨˜éŒ„ä¸€äº›å¥½ç©çš„ç·šä¸Šç·´ç¿’ç¶²ç«™
CSS CSS Dinner Flexbox Froggy Flex Pirate Grid Garden Git Learn Git Branching HTTP HTTP Challenge Network The Case of the Slow Websites The Case of the Connection Timeout The Case of the DNS Update that Didnâ€™t Work The Case of the 50ms Request Regex RegexOne SQL W3Schools SQL Exercise SQLBolt XSS XSS game</p></div><footer class=entry-footer><span title='2021-07-17 23:51:20 +0800 CST'>July 17, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Set Mao</footer><a class=entry-link aria-label="post link to Awesome Online Exercises" href=http://localhost:1313/posts/awesome-online-exercises/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Hexo é…ç½®</h2></header><div class=entry-content><p>å‰è¨€ å› ç‚ºä¸å°å¿ƒæ‰‹æ®˜æŠŠ local çš„ Hexo è¨­å®šç äº†â€¦ æ‰€ä»¥è—‰æ­¤ä¾†ç´€å¿µæˆ‘çš„æ‰‹æ®˜åŠè¨˜éŒ„ä¸€ä¸‹æˆ‘çš„ Hexo blog åšäº†å“ªäº›è¨­å®š
è¨­å®š deploy åˆ° GitHub page ä¸Š å®‰è£å¥—ä»¶ï¼š
npm install --save hexo-deployer-git èª¿æ•´ _config.ymlï¼š
deploy: type: git repo: &lt;repository url> NexT å®‰è£ NexTï¼š
npm install hexo-theme-next --save å°‡ NexT çš„è¨­å®šæª”è¤‡è£½å‡ºä¾†ï¼š
cp node_modules/hexo-theme-next/_config.yml _config.next.yml æŠŠ _config.yml ä¸­çš„ theme æ”¹æˆä½¿ç”¨ NexTï¼š
theme: next Sitemap å®‰è£å¥—ä»¶ï¼š
npm install hexo-generator-sitemap --save å¤–éƒ¨é€£çµ nofollow å®‰è£å¥—ä»¶ï¼š
npm install hexo-filter-nofollow --save Minifier å®‰è£å¥—ä»¶ï¼š
npm install hexo-all-minifier --save åœ¨ _config.yml ä¸­åŠ å…¥ï¼š
...</p></div><footer class=entry-footer><span title='2021-07-17 23:51:20 +0800 CST'>July 17, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Set Mao</footer><a class=entry-link aria-label="post link to Hexo é…ç½®" href=http://localhost:1313/posts/hexo-configuration/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Python çš„ GIL æ˜¯ä»€éº¼ï¼Ÿ</h2></header><div class=entry-content><p>å‰è¨€ åœ¨é¢è©¦çš„æ™‚å€™è¢«å•åˆ° GILï¼Œé›–ç„¶æˆ‘æ˜¯ç›´æ¥å›ç­”èªªæˆ‘çœ‹ä¸æ‡‚ï¼Œä½†æ˜¯ä»”ç´°æƒ³æƒ³ä¸Šä¸€æ¬¡çœ‹ä¹Ÿæ˜¯å¿«ä¸€å¹´å‰äº†ï¼Œæ–¼æ˜¯æƒ³è¶å ±åˆ°å‰å†ä¾†æŒ‘æˆ°ä¸€æ¬¡ GIL
ä¸»è¦æœƒåˆ†å…©å€‹éƒ¨åˆ†ä¾†è¬›
GIL æ˜¯ä»€éº¼ GIL æœƒé€ æˆä»€éº¼å½±éŸ¿ å¦‚ä½•é¿å… GIL é€ æˆçš„å•é¡Œ ç¸½çµ GIL æ˜¯ä»€éº¼ï¼Ÿ In CPython, the global interpreter lock, or GIL, is a mutex that protects access to Python objects, preventing multiple threads from executing Python bytecodes at once. The GIL prevents race conditions and ensures thread safety. A nice explanation of how the Python GIL helps in these areas can be found here. In short, this mutex is necessary mainly because CPythonâ€™s memory management is not thread-safe.
...</p></div><footer class=entry-footer><span title='2021-07-11 23:51:20 +0800 CST'>July 11, 2021</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Set Mao</footer><a class=entry-link aria-label="post link to Python çš„ GIL æ˜¯ä»€éº¼ï¼Ÿ" href=http://localhost:1313/posts/python-gil-details/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>é¢è©¦ debug æƒ…å¢ƒé¡Œ</h2></header><div class=entry-content><p>å‰è¨€ é¢è©¦çš„æ™‚å€™è¢«è€ƒåˆ°ä¸€é¡Œæƒ…å¢ƒé¡Œè¦ºå¾—è »æœ‰è¶£çš„ï¼Œæ–¼æ˜¯æ±ºå®šè¨˜éŒ„ä¸‹ä¾†ã€‚
é¢è©¦éç¨‹ é¢è©¦å®˜ï¼šä»Šå¤©æœ‰ä¸€å€‹ç¶²ç«™æ˜¯ 3-tier çš„æ¶æ§‹ï¼ˆå‰ç«¯ã€å¾Œç«¯ã€è³‡æ–™åº«ï¼‰ï¼ŒæŸå¤©ä½ ç™¼ç¾é¦–é  load ä¸å‡ºä¾†ï¼Œé€™æ™‚å€™ä½ æœƒæ€éº¼åšï¼Ÿ
æˆ‘ï¼šæ‰“é–‹ç€è¦½å™¨çš„ console çœ‹ network é‚£é‚Šçš„ request ç‹€æ…‹æ˜¯æ€æ¨£ã€‚
é¢è©¦å®˜ï¼šä½ æ‰“é–‹äº†ï¼Œçœ‹åˆ° request æ²’æœ‰å›å‚³ responseï¼Œå°±å¡è‘—ã€‚
æˆ‘ï¼šé€™æ¨£çœ‹èµ·ä¾†æ˜¯å¾Œç«¯æ›äº†ï¼Œå…ˆæª¢æŸ¥å¾Œç«¯çš„ logã€‚
é¢è©¦å®˜ï¼šå¾Œç«¯æ²’æœ‰ logï¼Œä½†æ˜¯é€™å€‹ controller åªæœ‰è·Ÿ db æ’ˆè³‡æ–™ï¼Œå…¶ä»–éƒ½æ²’æœ‰åšã€‚
æˆ‘ï¼šé‚£æ‡‰è©²æ˜¯å¾Œç«¯è·Ÿ db æºé€šçš„æ™‚å€™å¡ä½äº†ï¼Œé€™å¼µè¡¨å¾ˆå¤§å—ï¼Ÿ
é¢è©¦å®˜ï¼šå¤§æ¦‚ 10 è¬ç­†ã€‚
æˆ‘ï¼šé‚£æ‡‰è©²é‚„å¥½ï¼Œdb é‚£å°çš„ memory è·Ÿ CPU éƒ½æ˜¯å¥åº·çš„å—ï¼Ÿ
é¢è©¦å®˜ï¼šCPU è·Ÿ memory çš„ usage éƒ½ä¸è¶…é 30%ã€‚
æˆ‘ï¼šdb æ˜¯ RDS å—ï¼Ÿ
é¢è©¦å®˜ï¼šæ˜¯ã€‚
æˆ‘ï¼šRDS å¯ä»¥çœ‹æ¯æ¢ query è·‘çš„ç‹€æ³ï¼Œé€™æ¢ query è·‘çš„ç‹€æ³æœ‰ç•°å¸¸å—ï¼Ÿ
é¢è©¦å®˜ï¼šå‰å¹¾æ¬¡è·‘éƒ½æ²’å•é¡Œï¼Œä½†æ˜¯é€™æ¬¡æ›äº†ã€‚
æˆ‘ï¼šâ€¦
é¢è©¦å®˜ï¼šé‚£ç¾åœ¨æ˜¯ä»€éº¼å•é¡Œï¼Ÿä½ éœ€è¦ä¸€é»æç¤ºå—ï¼Ÿ
æˆ‘ï¼šå¥½ï¼Œæˆ‘è¦æç¤ºã€‚
é¢è©¦å®˜ï¼šä½ æ‰‹å‹•é€£æ¥ db ç™¼ç¾é€£ä¸é€²å»äº†ã€‚
æˆ‘ï¼šé‚£æ‡‰è©²æ˜¯ connection pool æ²’è¨­å®šå¥½ï¼Œéœ€è¦æª¢æŸ¥ä¸€ä¸‹ connection pool çš„è¨­å®šã€‚
...</p></div><footer class=entry-footer><span title='2021-07-06 23:51:20 +0800 CST'>July 6, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Set Mao</footer><a class=entry-link aria-label="post link to é¢è©¦ debug æƒ…å¢ƒé¡Œ" href=http://localhost:1313/posts/interview-debug-scenario/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>HTTP GET method vs POST method</h2></header><div class=entry-content><p>HTTP çš„ method ä¸­æœ€å¸¸è¢«ç”¨åˆ°çš„æ‡‰è©²å°±æ˜¯ GET åŠ POST äº†ä½†æ˜¯ GET èˆ‡ POST é™¤äº†ä½¿ç”¨å ´æ™¯ä¸ä¸€æ¨£ä¹‹å¤–ï¼Œåˆ°åº•é‚„æœ‰å“ªäº›å€åˆ¥å‘¢ï¼Ÿ æˆ‘å€‘çŸ¥é“ GET é€šå¸¸éƒ½é€é query string ä¾†å‚³éåƒæ•¸ï¼ŒPOST å‰‡æ˜¯ä½¿ç”¨ request bodyä½†æ˜¯å…¶å¯¦ GET ä¹Ÿå¯ä»¥é€é request body ä¾†å‚³éåƒæ•¸ï¼ŒåŒç† POST å…¶å¯¦ä¹Ÿèƒ½ä½¿ç”¨ query stringï¼ˆåªæ˜¯ä¸Šè¿°å…©ç¨®æ–¹å¼éƒ½ä¸æ¨è–¦ï¼‰
GET vs POST å·®ç•°é» POST ä¸æœƒè¢« cacheï¼ŒGET æœƒ POST ä¸æœƒå‡ºç¾åœ¨ç€è¦½å™¨çš„è¨ªå•è¨˜éŒ„è£¡ï¼ŒGET æœƒ POST ä¸èƒ½è¢«å­˜æˆæ›¸ç±¤ï¼ŒGET èƒ½ HTTP GET method vs POST method</p></div><footer class=entry-footer><span title='2021-07-04 23:51:20 +0800 CST'>July 4, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Set Mao</footer><a class=entry-link aria-label="post link to HTTP GET method vs POST method" href=http://localhost:1313/posts/http-get-post-comparison/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>HTTPS åŠ å¯†äº†å“ªäº›æ±è¥¿ï¼Ÿ</h2></header><div class=entry-content><p>HTTPS æœƒåŠ å¯† path, query string, request body ä½†æ˜¯ domain name ä¸ä¸€å®šæœƒåŠ å¯†ï¼ˆå¦‚æœæ²’æœ‰ä½¿ç”¨ SNI æ‰æœƒæŠŠ domain name åŠ å¯†ï¼‰</p></div><footer class=entry-footer><span title='2021-07-04 23:51:20 +0800 CST'>July 4, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Set Mao</footer><a class=entry-link aria-label="post link to HTTPS åŠ å¯†äº†å“ªäº›æ±è¥¿ï¼Ÿ" href=http://localhost:1313/posts/https-encryption-details/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>å¾ç€è¦½å™¨è¼¸å…¥ç¶²å€åˆ°çœ‹åˆ°ç¶²é åˆ°åº•ç™¼ç”Ÿäº†å“ªäº›äº‹ï¼Ÿ</h2></header><div class=entry-content><p>åœ¨ browser è¼¸å…¥ç¶²å€ browser è·Ÿ OS è¦ç¶²å€çš„ IP address OS å‘ DNS æŸ¥è©¢ IP addressï¼ˆå¦‚æœæœ‰ cache æœƒç›´æ¥å›å‚³ IP address çµ¦ OSï¼‰ DNS å‘ Name Server æŸ¥è©¢ IP address OS å°‡å¾ DNS/Name Server æŸ¥è©¢åˆ°çš„ IP address å›å‚³çµ¦ browser browser æ‹¿åˆ° IP address å¾Œå° IP address åš HTTP/HTTPS request å¦‚æœä½¿ç”¨ HTTPS æœƒå…ˆä½¿ç”¨ TLS å°æ†‘è­‰åšèªè­‰ä¸¦ç”¢ç”ŸåŠ å¯†çš„ session keyï¼Œä¸¦å° request çš„è³‡æ–™å…§å®¹ä½œåŠ å¯† browser èˆ‡ Server åš TCP çš„ä¸‰é …äº¤æ¡ç¢ºèª Server ç¾åœ¨å¯ä»¥æ¥æ”¶è³‡æ–™ Server ä¸Šçš„ Nginx/Apache æ¥æ”¶åˆ° requestï¼Œä¸¦å°‡ request pass åˆ° code base ä¸­ï¼ˆPython/PHP/JavaScriptï¼‰ code base å°‡ request è™•ç†å®Œä¹‹å¾Œå›å‚³ response browser æ¥æ”¶åˆ° response å¾Œæ ¹æ“š response çš„å…§å®¹å°‡é é¢ render å‡ºä¾†</p></div><footer class=entry-footer><span title='2021-07-04 23:51:20 +0800 CST'>July 4, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Set Mao</footer><a class=entry-link aria-label="post link to å¾ç€è¦½å™¨è¼¸å…¥ç¶²å€åˆ°çœ‹åˆ°ç¶²é åˆ°åº•ç™¼ç”Ÿäº†å“ªäº›äº‹ï¼Ÿ" href=http://localhost:1313/posts/from-request-to-response/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>BeautifulSoup Parsers Comparison</h2></header><div class=entry-content><p>å‰è¨€ æœ€è¿‘å¸¸å¸¸åœ¨ç”¨ Python å¯«çˆ¬èŸ² å°±å¥½å¥‡ BeautifulSoup ä¸åŒçš„ Parser ä¹‹é–“æœ‰ä»€éº¼å·®åˆ¥ æ–¼æ˜¯å¯«äº†é€™ç¯‡æ–‡ä¾†è¨˜éŒ„ä¸€ä¸‹
import requests from bs4 import BeautifulSoup url = "https://google.com/" resp = requests.get(url) soup = BeautifulSoup(resp.text, "html.parser") # or soup = BeautifulSoup(resp.text, "lxml") ç¶²è·¯ä¸Šçš„çˆ¬èŸ²æ•™å­¸å¸¸å¸¸æœƒçœ‹åˆ°ä»¥ä¸Šå…©ç¨®å¯«æ³•ï¼Œå¯ä»¥çœ‹åˆ°å·®åˆ¥å°±æ˜¯ html.parser è·Ÿ lxml é€™å€‹å…¶å¯¦æ˜¯åœ¨è·Ÿ BeautifulSoup èªªæˆ‘å€‘è¦ç”¨å“ªç¨® Parser å»è§£æ HTML ä½†æ˜¯åˆ°åº• BeautifulSoup æ”¯æ´å¤šå°‘ç¨® Parserï¼ŒåŠæ¯ç¨® Parser åˆ°åº•å·®åœ¨å“ªï¼Ÿ æ–¼æ˜¯å°±éš¨æ‰‹ google äº†ä¸€ä¸‹ç™¼ç¾äº† StackOverflow ä¸Šçš„é€™ç¯‡ åŠ BeautifulSoup çš„ doc
ä»¥ä¸‹æ˜¯ä¸åŒçš„ Parser çš„æ¯”è¼ƒè¡¨æ ¼
tl;dr
é€Ÿåº¦æœ€å¿«ï¼šlxml
ç›¸å®¹æ€§æœ€é«˜ï¼šhtml5lib
å‰©ä¸‹ç”¨ï¼šhtml.parser
Parser å„ªé» ç¼ºé» html.parser Python å…§å»ºï¼Œä¸éœ€é¡å¤–å®‰è£ é€Ÿåº¦è·Ÿç›¸å®¹æ€§éƒ½æ™®é€š lxml å¿« éœ€è¦é¡å¤–å®‰è£ï¼ˆC dependencyï¼‰ html5lib ç›¸å®¹æ€§æœ€é«˜ï¼Œæ‰€æœ‰ç‰ˆæœ¬çš„ Python éƒ½èƒ½ç”¨ æ…¢ åƒè€ƒè³‡æ–™
...</p></div><footer class=entry-footer><span title='2021-05-06 23:51:20 +0800 CST'>May 6, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Set Mao</footer><a class=entry-link aria-label="post link to BeautifulSoup Parsers Comparison" href=http://localhost:1313/posts/beautifulsoup-parsers-comparison/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Backup/Restore a dockerized PostgreSQL database</h2></header><div class=entry-content><p>å‰è¨€ è¨˜éŒ„ä¸€ä¸‹è¦æ€éº¼åœ¨ docker ä¸­å° PostgreSQL å‚™ä»½/åŒ¯å…¥è³‡æ–™
å‚™ä»½ PostgreSQL åœ¨ docker ä¸­å‚™ä»½ PostgreSQL çš„æŒ‡ä»¤å¦‚ä¸‹ï¼š
docker exec -t &lt;container_name> pg_dumpall -c -U &lt;user_name> > dump_`date +%d-%m-%Y"_%H_%M_%S`.sql åŒ¯å…¥ PostgreSQL å°‡ SQL æª”åŒ¯å…¥ PostgreSQL çš„æŒ‡ä»¤å¦‚ä¸‹ï¼š
cat &lt;your_dump>.sql | docker exec -i &lt;container_name> psql -U &lt;user_name> åƒè€ƒè³‡æ–™ Backup/Restore a dockerized PostgreSQL database</p></div><footer class=entry-footer><span title='2020-06-29 23:51:20 +0800 CST'>June 29, 2020</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Set Mao</footer><a class=entry-link aria-label="post link to Backup/Restore a dockerized PostgreSQL database" href=http://localhost:1313/posts/backup-and-restore-dockerized-postgresql/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Docker: no space left on device</h2></header><div class=entry-content><p>å‰è¨€ æœ€è¿‘åœ¨ build docker image çš„æ™‚å€™é‡åˆ° No space left on device çš„å•é¡Œã€‚ å› ç‚ºåœ¨è§£çš„éç¨‹ç™¼ç¾å¥½åƒè »å¤šäººéƒ½æœ‰é‡éé€™å€‹å•é¡Œï¼Œæ–¼æ˜¯å°±æŠŠè§£çš„éç¨‹è¨˜éŒ„ä¸‹ä¾†ï¼Œå¸Œæœ›èƒ½å¹«åˆ°å…¶ä»–äººã€‚
å•é¡Œæè¿° ä»Šå¤©åœ¨ build docker image çš„æ™‚å€™å‡ºç¾ä»¥ä¸‹éŒ¯èª¤ï¼š
ERROR: Could not install packages due to an EnvironmentError: [Errno 28] No space left on device å› ç‚ºéŒ¯èª¤å‡ºç¾åœ¨ pip install çš„æ­¥é©Ÿï¼Œæ‰€ä»¥æˆ‘å…ˆå¾€ pip çš„æ–¹å‘å»æ‰¾ï¼Œæ‰¾åˆ°ä»¥ä¸‹çš„è§£æ±ºè¾¦æ³•ï¼š
åœ¨å®¶ç›®éŒ„åº•ä¸‹é–‹ä¸€å€‹æ–°çš„ tmp è³‡æ–™å¤¾ï¼Œè®“ç³»çµ±ä½¿ç”¨è©²è³‡æ–™å¤¾ä¾†è§£æ±º tmp ç©ºé–“ä¸è¶³çš„å•é¡Œã€‚ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š pip install --no-cache-dir &lt;package_name> é¸æ“‡äº†ç¬¬äºŒå€‹æ–¹æ³•ï¼Œä½†å•é¡Œä¾ç„¶å­˜åœ¨ã€‚å¾Œä¾†ç™¼ç¾é€™å…¶å¯¦æ˜¯ Docker çš„æš«å­˜ç©ºé–“è¢«å¡æ»¿å°è‡´çš„å•é¡Œã€‚
è§£æ±ºæ–¹æ¡ˆ ä½¿ç”¨ docker system prune æŒ‡ä»¤ä¾†æ¸…ç† Docker æš«å­˜ç©ºé–“ï¼š docker system prune é€™å°‡æœƒåˆªé™¤ï¼š
æ‰€æœ‰åœæ­¢çš„å®¹å™¨ æ²’æœ‰è¢«è‡³å°‘ä¸€å€‹å®¹å™¨ä½¿ç”¨çš„ç¶²è·¯ æ‰€æœ‰çš„ dangling images å’Œ build cache è‹¥é‚„æ˜¯ç„¡æ³•è§£æ±ºï¼Œå‰‡é€²ä¸€æ­¥æª¢æŸ¥å®¹å™¨çš„ log æª”ï¼š du -d1 -h /var/lib/docker/containers | sort -h æ‰¾åˆ°å ç”¨ç©ºé–“å¤§çš„ log æª”å¾Œï¼Œä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤æ¸…é™¤ logï¼š
...</p></div><footer class=entry-footer><span title='2020-06-09 23:51:20 +0800 CST'>June 9, 2020</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Set Mao</footer><a class=entry-link aria-label="post link to Docker: no space left on device" href=http://localhost:1313/posts/docker-no-space/></a></article><footer class=page-footer><nav class=pagination><a class=next href=http://localhost:1313/page/2/>Next&nbsp;2/2&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>Set's Note</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>